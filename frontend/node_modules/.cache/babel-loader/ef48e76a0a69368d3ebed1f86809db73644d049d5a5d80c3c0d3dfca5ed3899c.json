{"ast":null,"code":"import React,{useRef}from'react';import{Download,Upload}from'lucide-react';import{exportBackup,importBackup}from'../utils/exportUtils';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BackupManager=()=>{const fileInputRef=useRef(null);const handleExport=()=>{const allData={};const keys=['challenge_produtos','challenge_dias','carteiras_master','orcados_por_tipo','orcados_por_carteira','meta_percentual','redes','realizados_tipo','realizados_carteira','controle_diario'];keys.forEach(key=>{const value=localStorage.getItem(key);if(value){try{allData[key]=JSON.parse(value);}catch(e){allData[key]=value;}}});const timestamp=new Date().toISOString().split('T')[0];exportBackup(allData,\"backup-desafios-\".concat(timestamp,\".json\"));toast.success('Backup exportado com sucesso!');};const handleImport=async event=>{const file=event.target.files[0];if(!file)return;try{const data=await importBackup(file);Object.entries(data).forEach(_ref=>{let[key,value]=_ref;localStorage.setItem(key,JSON.stringify(value));});toast.success('Backup importado com sucesso! Recarregue a pÃ¡gina.');setTimeout(()=>window.location.reload(),1500);}catch(error){toast.error('Erro ao importar backup: '+error.message);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleExport,className:\"bb-btn bb-btn-secondary\",\"data-testid\":\"export-backup-btn\",children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Exportar Backup\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"bb-btn bb-btn-secondary\",\"data-testid\":\"import-backup-btn\",children:[/*#__PURE__*/_jsx(Upload,{size:16}),\"Importar Backup\"]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".json\",onChange:handleImport,style:{display:'none'}})]});};export default BackupManager;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}